# Cointext — context for every coin.

The knowledge base for every chain, every platform. Real-time intelligence with institutional-grade precision. Powering AIBRK, fudcan, Virtuals, Base, BSC, Algorand — and beyond. Try asking: “What’s trending on Virtuals today?”

## Start chatting with Cointext

Web3 & DeFi insights, price checks, wallet analysis—plus more. Ask anything…

**Examples**
- “What’s BTC right now?”
- “Analyze wallet 0x123…”
- “What is DeFi?”
- “What’s trending on Virtuals today?”

---

## 🚀 **Project Overview**

Cointext is a **next-generation autonomous DeFi intelligence platform** that turns raw on-chain activity into actionable answers. 

### **🎯 Core Mission**
Enable anyone to understand Web3 instantly through AI-powered agents that can:
- **Analyze** complex market data across chains and platforms
- **Process** natural language queries about protocols, tokens, and wallets
- **Aggregate** real-time intelligence from multiple APIs
- **Orchestrate** multi-step data analysis workflows
- **Learn** from every interaction to improve future answers

### **✨ Key Innovations**

🧠 **Autonomous AI Workflow Orchestration**
- Advanced intent recognition system powered by GPT-4
- Self-improving decision-making algorithms
- Multi-step workflow planning and execution
- Real-time strategy adaptation

📊 **Comprehensive DeFi Knowledge Base**
- Real-time market data aggregation from Virtuals.io and beyond
- Multi-source API integration (DeBank, Nansen)
- Advanced conversation analytics
- Intelligent query processing and routing

🛡️ **Enterprise-Grade Security**
- Multi-layered authentication system
- Secure API key management
- Role-based access control
- Audit trail for all operations

---

## 🤖 **Autonomous AI Agent Capabilities**

### **🧠 Advanced Decision-Making Engine**

Our AI agents demonstrate true autonomy through:

**Intent Recognition & Planning**
```javascript
// AI analyzes user queries and determines optimal workflow
{
  "intent": "TOOL_ENHANCED",
  "confidence": 0.95,
  "reasoning": "User needs multi-protocol yield analysis",
  "workflow": {
    "steps": [
      {"type": "thinking", "name": "Analyze market conditions"},
      {"type": "api_calling", "tools": ["debank.portfolio", "nansen.analytics"]},
      {"type": "answer_generating", "name": "Generate recommendations"}
    ]
  }
}
```

**Autonomous Workflow Execution**
- **Self-Planning**: Agents create multi-step execution plans
- **Dynamic Adaptation**: Real-time strategy modification based on market conditions
- **Error Recovery**: Intelligent fallback mechanisms for failed operations
- **Learning Loop**: Continuous improvement from execution outcomes

**Multi-Source Data Intelligence**
- **Virtual Agents Analysis**: Access trending agents and performance metrics
- **Market Data Processing**: Real-time price feeds and analytics
- **Portfolio Insights**: Comprehensive DeFi portfolio analysis via APIs
- **Conversation Intelligence**: Context-aware response generation

### **🔄 Workflow Orchestration System**

Our agents manage complex DeFi operations through:

1. **Thinking Phase**: Query analysis and intent recognition
2. **Data Gathering**: Multi-source API information aggregation
3. **Processing**: Step-by-step data analysis and synthesis
4. **Validation**: Response accuracy and relevance checks
5. **Response Generation**: Intelligent answer formulation
6. **Learning**: Conversation feedback and improvement

---

## 🔗 **Blockchain Data Integration**

### **📊 Web3 Data Architecture**

**Blockchain Data Ready**
- Integration with Ethereum-based protocols
- Support for multiple blockchain networks
- Real-time on-chain data processing
- DeFi protocol data aggregation

### **🛡️ Security & Compliance**

**Multi-Layer Security**
- Secure API key management
- Role-based access control
- Encrypted data transmission
- Audit logging for all operations

**Data Privacy Framework**
- User conversation privacy
- Secure knowledge base management
- API rate limiting and protection
- GDPR compliance ready

---

## 🏗️ **Technical Architecture**

### **🔧 Core Technology Stack**

**Frontend & UI**
- **Next.js 15**: Modern React framework with App Router
- **TailwindCSS**: Utility-first styling
- **Heroicons**: Professional icon system
- **Spline 3D**: Interactive 3D visualizations

**Backend & AI**
- **OpenAI GPT-4**: Advanced language model for decision-making
- **LangChain**: AI workflow orchestration
- **ChromaDB**: Vector database for knowledge management
- **Prisma ORM**: Type-safe database operations

**Blockchain & DeFi Data**
- **Viem**: Ethereum data interaction library
- **Virtuals.io API**: AI agent marketplace data integration
- **DeFi APIs**: DeBank, Nansen, CoinGecko integration
- **Real-time Data**: WebSocket connections for live updates

**Data & Analytics**
- **PostgreSQL**: Primary database
- **Real-time APIs**: DeBank, Nansen, CoinGecko
- **WebSocket Streaming**: Live market data
- **Time-series Analysis**: Historical pattern recognition

### **🔀 Workflow Processing Pipeline**

1. **Query Analysis**: Natural language processing and intent recognition
2. **Context Building**: Gather relevant market data and user preferences
3. **Strategy Formation**: AI-driven decision making and planning
4. **Data Validation**: Information accuracy and relevance checks
5. **Response Generation**: Intelligent answer synthesis
6. **Monitoring**: Real-time conversation performance tracking
7. **Learning**: User feedback loop for continuous improvement

---

## 📊 **DeFi Data Integration**

### **🔗 Supported Protocols & Data Sources**

**Virtual Agents Marketplace**
- **Virtuals.io Integration**: Access to 1000+ AI agents
- **Agent Performance Analytics**: Success rates, transaction volumes
- **Trending Analysis**: Market sentiment and popularity metrics
- **Yield Opportunities**: Cross-protocol APY comparisons

**Market Data Providers**
- **DeBank**: Portfolio tracking and DeFi protocol data
- **Nansen**: On-chain analytics and whale tracking
- **CoinGecko**: Price feeds and market capitalization
- **The Graph**: Decentralized indexing protocol

**DeFi Data APIs**
- **Portfolio Tracking**: DeBank API integration
- **Analytics**: Nansen on-chain data
- **Price Feeds**: CoinGecko market data
- **Virtual Agents**: Virtuals.io marketplace data

### **📈 Real-Time Analytics Dashboard**

**Data Analytics Dashboard**
- Multi-source data aggregation
- Real-time conversation analytics
- User interaction tracking
- API performance monitoring

**Market Intelligence**
- Virtual agents trending analysis
- Cross-protocol data comparisons
- Market sentiment tracking
- Performance metrics visualization

---

## 🚀 **Getting Started**

### **⚡ Quick Setup**

**Prerequisites**
- Node.js 18+ 
- PostgreSQL 14+
- OpenAI API Key
- Ethereum RPC endpoint

**Installation**
```bash
# Clone the repository
git clone https://github.com/your-username/cointext-web.git
cd cointext-web

# Install dependencies
npm install

# Setup environment variables
cp env.example .env.local
# Edit .env.local with your configuration

# Setup database
npm run migrate

# Create admin user
npm run create-admin

# Start development server
npm run dev
```

**Environment Configuration**
```bash
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/cointext"

# AI Configuration
OPENAI_API_KEY="your-openai-api-key"

# Blockchain
ETHEREUM_RPC_URL="your-ethereum-rpc-url"
ARBITRUM_RPC_URL="your-arbitrum-rpc-url"

# API Keys
DEBANK_API_KEY="your-debank-api-key"
NANSEN_API_KEY="your-nansen-api-key"
```

### **🎮 Demo Instructions**

**1. Access the Platform**
- Navigate to `http://localhost:3000`
- Experience the immersive 3D interface
- Click "Chat" to interact with AI agents

**2. Try AI-Powered Queries**
```
"What are the trending AI agents on Virtuals.io?"
"Show me the latest virtual agents data"
"Analyze the current market data for virtual tokens"
"What are the top performing agents this week?"
```

**3. Explore Admin Dashboard**
- Access `/admin` with created admin credentials
- Manage AI tools and client configurations
- Monitor conversation analytics
- Configure knowledge bases

**4. API Integration**
```bash
# Test the AI endpoint
curl -X GET "http://localhost:3000/api/ai/ask?query=analyze%20ethereum%20market" \
  -H "Authorization: Bearer your-api-key"
```

---

## 🔄 **AI Workflow Architecture**

### **📋 Ask API Interface**

**Endpoint**: `GET /api/ai/ask`

**Parameters**:
- `query` (required): Natural language query string
- `options` (optional): JSON string with additional options

**Headers**:
- `Authorization: Bearer <api-key>` (required)

**Response**: Server-Sent Events (SSE) stream with real-time workflow updates

### **⚡ Workflow Step Types**

**1. Thinking Phase**
- Query analysis and context building
- Intent classification and confidence scoring
- Workflow planning and step sequencing

**2. RAG Retrieval**
- Vector database search using ChromaDB
- Knowledge base context extraction
- Relevant document retrieval and ranking

**3. API Calling**
- External DeFi API integration (DeBank, Nansen)
- Real-time market data fetching
- Multi-source data aggregation

**4. ACP Agent Job server buy**
- Buy ACP Agent Job from Virtuals.io
- Analyze Virtuals Market 

**5. Answer Generation**
- Context synthesis using GPT-4
- Intelligent response formulation
- Source attribution and accuracy validation

### **📊 Real-time Streaming Events**

The API streams the following events via Server-Sent Events:

```javascript
// Workflow planning
event: workflow_plan
data: {
  "intent": "TOOL_ENHANCED",
  "confidence": 0.95,
  "reasoning": "User needs multi-protocol analysis",
  "workflow": { "steps": [...] }
}

// Step execution
event: step_start
data: {
  "type": "thinking|rag_retrieving|api_calling|answer_generating",
  "name": "Human readable step name",
  "stepId": "uuid"
}

event: step_complete
data: {
  "type": "thinking",
  "stepId": "uuid",
  "result": { "output": "...", "latencyMs": 150 }
}

// Final completion
event: done
data: {
  "conversationId": "uuid",
  "latencyMs": 2500,
  "intent": "TOOL_ENHANCED",
  "toolsUsed": ["debank.portfolio", "nansen.analytics"],
  "ragUsed": true
}
```

---

## ACP call history
- https://basescan.org/tx/0x719a2fc9026335021e488b86a4fd9f08b5990286404e5f0af980d52e17cb49d7

## 🔮 **Future Roadmap**

### **Phase 1: Enhanced AI Capabilities (Q1 2025)**
- Advanced machine learning models
- Cross-chain data aggregation
- Predictive market analysis
- Enhanced conversation intelligence

### **Phase 2: Platform Expansion (Q2 2025)**
- Mobile application launch
- Advanced API integrations
- Enterprise dashboard features
- Enhanced analytics tools

### **Phase 3: AI Agent Ecosystem (Q3 2025)**
- Custom AI agent creation tools
- Agent performance analytics
- Community-driven features
- Decentralized governance

---

## 🛠️ **Development Commands**

### **Database Management**
```bash
# Create migration files
npm run create

# Apply migrations and generate Prisma client
npm run migrate

# Open Prisma Studio
npm run studio

# Calculate MD5 checksums for existing files
npm run calculate-md5
```

### **Admin Operations**
```bash
# Create admin user
npm run create-admin

# Start XMTP messaging server
npm run xmtp
```

### **Development**
```bash
# Start development server with Turbopack
npm run dev

# Build for production
npm run build

# Start production server
npm start

# Run linting
npm run lint
```

---

